import{u as c,r as w,c as v,a as g,o as f,b as C,d as e,w as n,v as r,t as i,e as k,f as b,g as h,h as x}from"./index-CI7m5PnG.js";const y={id:"signUpPage",class:"bg-yellow"},U={class:"conatiner signUpPage vhContainer"},V={class:"formControls",action:"index.html"},_="https://todolist-api.hexschool.io",E={__name:"SignUpView",setup(S){const p=c(),o=w({email:"",nickname:"",password:"",passwordCheck:""}),u=a=>/\S+@\S+\.\S+/.test(a),t=v(()=>({email:u(o.value.email)?"":"Email 格式錯誤",nickname:o.value.nickname?"":"此欄位不可為空",password:o.value.password.length>=6?"":"密碼長度不足",passwordCheck:o.value.password===o.value.passwordCheck?"":"密碼不一致"})),d=async()=>{try{(await h.post(`${_}/users/sign_up`,o.value)).data.status&&alert("註冊成功，請登入"),p.push("/")}catch(a){console.log(a),alert("註冊失敗: "+a.response.data.message)}};return(a,s)=>{const m=g("router-link");return f(),C("div",y,[e("div",U,[s[10]||(s[10]=e("div",{class:"side"},[e("a",{href:"#"},[e("img",{class:"logoImg",src:"https://raw.githubusercontent.com/hexschool/2022-web-layout-training/main/todolist/logo.png",alt:""})]),e("img",{class:"d-m-n",src:"https://raw.githubusercontent.com/hexschool/2022-web-layout-training/main/todolist/img.png",alt:"workImg"})],-1)),e("div",null,[e("form",V,[s[5]||(s[5]=e("h2",{class:"formControls_txt"},"註冊帳號",-1)),s[6]||(s[6]=e("label",{class:"formControls_label",for:"email"},"Email",-1)),n(e("input",{class:"formControls_input",type:"text",id:"email",name:"email",placeholder:"請輸入 email",required:"","onUpdate:modelValue":s[0]||(s[0]=l=>o.value.email=l)},null,512),[[r,o.value.email]]),e("span",null,i(t.value.email),1),s[7]||(s[7]=e("label",{class:"formControls_label",for:"name"},"您的暱稱",-1)),n(e("input",{class:"formControls_input",type:"text",name:"name",id:"name",placeholder:"請輸入您的暱稱",required:"","onUpdate:modelValue":s[1]||(s[1]=l=>o.value.nickname=l)},null,512),[[r,o.value.nickname]]),e("span",null,i(t.value.nickname),1),s[8]||(s[8]=e("label",{class:"formControls_label",for:"pwd"},"密碼",-1)),n(e("input",{class:"formControls_input",type:"password",name:"pwd",id:"pwd",placeholder:"請輸入密碼",required:"","onUpdate:modelValue":s[2]||(s[2]=l=>o.value.password=l)},null,512),[[r,o.value.password]]),e("span",null,i(t.value.password),1),s[9]||(s[9]=e("label",{class:"formControls_label",for:"pwd"},"再次輸入密碼",-1)),n(e("input",{class:"formControls_input",type:"password",name:"pwd",id:"pwd",placeholder:"請再次輸入密碼",required:"","onUpdate:modelValue":s[3]||(s[3]=l=>o.value.passwordCheck=l)},null,512),[[r,o.value.passwordCheck]]),e("span",null,i(t.value.passwordCheck),1),e("input",{class:"formControls_btnSubmit",type:"button",onClick:d,value:"註冊帳號"}),k(m,{class:"formControls_btnLink",to:"/"},{default:b(()=>s[4]||(s[4]=[x("登入")])),_:1})])])])])}}};export{E as default};
